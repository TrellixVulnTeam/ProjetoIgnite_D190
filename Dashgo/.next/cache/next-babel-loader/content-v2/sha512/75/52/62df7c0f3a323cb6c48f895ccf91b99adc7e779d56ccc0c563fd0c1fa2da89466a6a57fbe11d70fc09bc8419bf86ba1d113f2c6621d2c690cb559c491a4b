{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\DVBLIW\\\\Desktop\\\\Projeto Ignite\\\\Projeto 4 - Dashgo\\\\src\\\\pages\\\\users\\\\index.tsx\";\nimport NextLink from 'next/link';\nimport { useState } from 'react';\nimport { Box, Button, Flex, Heading, Icon, Table, Th, Thead, Tr, Checkbox, Tbody, Td, Text, useBreakpointValue, Spinner, Link } from '@chakra-ui/react';\nimport { RiAddLine } from 'react-icons/ri';\nimport { Header } from '../../components/Header';\nimport { Pagination } from '../../components/Pagination';\nimport { Sidebar } from '../../components/Sidebar';\nimport { useUsers } from '../../services/hooks/useUsers';\nimport { queryClient } from '../../services/queryClient';\nimport { api } from '../../services/api';\nexport default function UserList() {\n  const {\n    0: page,\n    1: setPage\n  } = useState(1);\n  const {\n    data,\n    isLoading,\n    isFetching,\n    error\n  } = useUsers(page);\n  const isWideVersion = useBreakpointValue({\n    base: false,\n    lg: true\n  });\n\n  async function handlePrefetchUser(userId) {\n    await queryClient.prefetchQuery(['user', userId], async () => {\n      const res = await api.get(`users/${userId}`);\n      return res.data;\n    }, {\n      staleTime: 1000 * 60 * 10 // 10 minutos\n\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(Flex, {\n      w: \"100%\",\n      my: \"6\",\n      maxWidth: 1480,\n      mx: \"auto\",\n      px: ['4', '4', '6'],\n      children: [/*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        flex: \"1\",\n        borderRadius: 8,\n        bg: \"gray.800\",\n        p: \"8\",\n        children: [/*#__PURE__*/_jsxDEV(Flex, {\n          mb: \"8\",\n          justify: \"space-between\",\n          align: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(Heading, {\n            size: \"lg\",\n            fontWeight: \"normal\",\n            children: [\"Usu\\xE1rios\", !isLoading && isFetching && /*#__PURE__*/_jsxDEV(Spinner, {\n              size: \"sm\",\n              color: \"gray=500\",\n              ml: \"4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 44\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(NextLink, {\n            href: \"/users/create\",\n            passHref: true,\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              as: \"a\",\n              size: \"sm\",\n              fontSize: \"sm\",\n              colorScheme: \"pink\",\n              leftIcon: /*#__PURE__*/_jsxDEV(Icon, {\n                as: RiAddLine,\n                fontSize: \"20\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 27\n              }, this),\n              children: \"Criar novo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this), isLoading ? /*#__PURE__*/_jsxDEV(Flex, {\n          justify: \"center\",\n          children: /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this) : error ? /*#__PURE__*/_jsxDEV(Flex, {\n          justify: \"center\",\n          children: /*#__PURE__*/_jsxDEV(Text, {\n            children: \"Falha ao obter dados dos usu\\xE1rios\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Table, {\n            colorScheme: \"whiteAlpha\",\n            children: [/*#__PURE__*/_jsxDEV(Thead, {\n              children: /*#__PURE__*/_jsxDEV(Tr, {\n                children: [/*#__PURE__*/_jsxDEV(Th, {\n                  px: ['4', '4', '6'],\n                  color: \"gray.300\",\n                  width: \"8\",\n                  children: /*#__PURE__*/_jsxDEV(Checkbox, {\n                    colorScheme: \"pink\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 74,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 73,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Th, {\n                  children: \"Usu\\xE1rio\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 21\n                }, this), isWideVersion && /*#__PURE__*/_jsxDEV(Th, {\n                  children: \"Data de cadastro\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 39\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Tbody, {\n              children: data.users.map(user => {\n                return /*#__PURE__*/_jsxDEV(Tr, {\n                  children: [/*#__PURE__*/_jsxDEV(Td, {\n                    px: ['4', '4', '6'],\n                    children: /*#__PURE__*/_jsxDEV(Checkbox, {\n                      colorScheme: \"pink\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 86,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 85,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Td, {\n                    children: /*#__PURE__*/_jsxDEV(Box, {\n                      children: [/*#__PURE__*/_jsxDEV(Link, {\n                        color: \"purple.400\",\n                        onMouseEnter: () => handlePrefetchUser(user.id),\n                        children: /*#__PURE__*/_jsxDEV(Text, {\n                          fontWeight: \"bold\",\n                          children: user.name\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 91,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 90,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Text, {\n                        fontSize: \"sm\",\n                        color: \"gray.300\",\n                        children: user.email\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 93,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 89,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 88,\n                    columnNumber: 25\n                  }, this), isWideVersion && /*#__PURE__*/_jsxDEV(Td, {\n                    children: user.createdAt\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 96,\n                    columnNumber: 43\n                  }, this)]\n                }, user.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 23\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n            totalCountOfRegisters: data.totalCount,\n            currentPage: page,\n            onPageChange: setPage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"sources":["C:/Users/DVBLIW/Desktop/Projeto Ignite/Projeto 4 - Dashgo/src/pages/users/index.tsx"],"names":["NextLink","useState","Box","Button","Flex","Heading","Icon","Table","Th","Thead","Tr","Checkbox","Tbody","Td","Text","useBreakpointValue","Spinner","Link","RiAddLine","Header","Pagination","Sidebar","useUsers","queryClient","api","UserList","page","setPage","data","isLoading","isFetching","error","isWideVersion","base","lg","handlePrefetchUser","userId","prefetchQuery","res","get","staleTime","users","map","user","id","name","email","createdAt","totalCount"],"mappings":"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","sourcesContent":["import NextLink from 'next/link'\nimport { useState } from 'react';\nimport { Box, Button, Flex, Heading, Icon, Table, Th, Thead, Tr, Checkbox, Tbody, Td, Text, useBreakpointValue, Spinner, Link } from '@chakra-ui/react'\nimport { RiAddLine } from 'react-icons/ri';\n\nimport { Header } from '../../components/Header';\nimport { Pagination } from '../../components/Pagination';\nimport { Sidebar } from '../../components/Sidebar';\n\nimport { useUsers } from '../../services/hooks/useUsers';\nimport { queryClient } from '../../services/queryClient';\nimport { api } from '../../services/api';\n\nexport default function UserList() {\n  const [page, setPage] = useState(1)\n  const { data, isLoading, isFetching, error } = useUsers(page)\n\n  const isWideVersion = useBreakpointValue({\n    base: false,\n    lg: true,\n  })\n\n  async function handlePrefetchUser(userId: string) {\n    await queryClient.prefetchQuery(['user', userId], async () => {\n      const res = await api.get(`users/${userId}`)\n\n      return res.data\n    }, {\n      staleTime: 1000 * 60 * 10, // 10 minutos\n    })\n  }\n\n  return (\n    <Box>\n       <Header />\n\n      <Flex w='100%' my='6' maxWidth={1480} mx='auto' px={['4', '4', '6']}>\n        <Sidebar />\n\n        <Box flex='1' borderRadius={8} bg='gray.800' p='8'>\n          <Flex mb='8' justify='space-between' align='center'>\n            <Heading size='lg' fontWeight='normal'>\n              Usuários\n              {!isLoading && isFetching && <Spinner size='sm' color='gray=500' ml='4' />}\n            </Heading>\n\n            <NextLink href='/users/create' passHref>\n              <Button \n                as='a' \n                size='sm' \n                fontSize='sm' \n                colorScheme='pink'\n                leftIcon={<Icon as={RiAddLine} fontSize='20' />}\n              >\n                Criar novo\n              </Button>\n            </NextLink>\n          </Flex>\n        \n          {isLoading ? (\n            <Flex justify='center'>\n              <Spinner />\n            </Flex>\n          ) : error ? (\n            <Flex justify='center'>\n              <Text>Falha ao obter dados dos usuários</Text>\n            </Flex>\n          ): (\n            <>\n              <Table colorScheme='whiteAlpha'>\n                <Thead>\n                  <Tr>\n                    <Th px={['4', '4', '6']} color='gray.300' width='8'>\n                      <Checkbox colorScheme='pink' />\n                    </Th>\n                    <Th>Usuário</Th>\n                    {isWideVersion && <Th>Data de cadastro</Th>}\n                  </Tr>\n                </Thead>\n\n                <Tbody>\n                  {data.users.map((user) => {\n                    return (\n                      <Tr key={user.id}>\n                        <Td px={['4', '4', '6']}>\n                          <Checkbox colorScheme='pink' />\n                        </Td>\n                        <Td>\n                          <Box>\n                            <Link color='purple.400' onMouseEnter={() => handlePrefetchUser(user.id)}>\n                              <Text fontWeight='bold'>{user.name}</Text>\n                            </Link>\n                            <Text fontSize='sm' color='gray.300'>{user.email}</Text>\n                          </Box>\n                        </Td>\n                        {isWideVersion && <Td>{user.createdAt}</Td>}\n                      </Tr>\n                    )\n                  })}\n                </Tbody>\n              </Table>\n\n              <Pagination\n                totalCountOfRegisters={data.totalCount}\n                currentPage={page}\n                onPageChange={setPage}\n              />\n            </>\n          )}\n        </Box>\n      </Flex>\n\n    </Box>\n  );\n}"]},"metadata":{},"sourceType":"module"}